<div *ngIf="!loading" class="report-container">
	<div class="row">
		<div class="col-md-6">
			<div class="card h-100">

				<div class="title primaryTitle1">
					<span>
						נתוני כותרת
					</span>
				</div>

				<div class="row">
					<div class="col-md-6" style="width: 50%;">

						<mat-form-field appearance="outline">
							<mat-label>לקוח</mat-label>
							<input matInput type="string" [(ngModel)]="companyName">
						</mat-form-field>
						<mat-form-field appearance="outline">
							<mat-label>גורם מטפל</mat-label>
							<input matInput type="string" [(ngModel)]="reportHandler">
						</mat-form-field>
						<mat-form-field appearance="outline">
							<mat-label>מספר תיק</mat-label>
							<input matInput type="number" [(ngModel)]="reportNumber">
						</mat-form-field>
						<mat-form-field appearance="outline">
							<mat-label>חייב PCN</mat-label>
							<input matInput type="number" [(ngModel)]="pcnRequirement">
						</mat-form-field>
					</div>

					<div class="col-md-6" style="width: 50%;">
						<mat-form-field class="example-full-width" appearance="outline">
							<mat-label>חודש/שנה</mat-label>
							<input matInput [matDatepicker]="dateStrPicker"
							 [formControl]="dateStr">
							<mat-datepicker-toggle matSuffix [for]="dateStrPicker"></mat-datepicker-toggle>
							<mat-datepicker #dateStrPicker></mat-datepicker>
						</mat-form-field>
						<mat-form-field appearance="outline">
							<mat-label>ניכויים:</mat-label>
							<input matInput type="number" [(ngModel)]="deductions">
						</mat-form-field>
						<div class="outline-date-PCN">
							<mat-form-field appearance="outline">
								<mat-label> PCN דיווח </mat-label>
								<input matInput [matDatepicker]="pcnReportDatePicker"
									[formControl]="selectePCNReportdDate">
								<mat-datepicker-toggle matSuffix [for]="pcnReportDatePicker"></mat-datepicker-toggle>
								<mat-datepicker #pcnReportDatePicker></mat-datepicker>
							</mat-form-field>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-6">
			<div class="card h-100">
				<div class="title primaryTitle2">
					<span class="res">סטטוס דיווח: </span>
				</div>

				<div class="status">
					<div class="row">
						<div class="col-md-6" style="width: 50%;">
							<mat-form-field appearance="outline">
								<mat-label>סטטוס דיווח</mat-label>
								<input matInput type="string" [(ngModel)]="statusStr">
							</mat-form-field>
							<div class="outline-date">
								<mat-form-field class="example-full-width" appearance="outline">
									<mat-label> הגיע למשרד</mat-label>
									<input matInput [matDatepicker]="arrivedDatePicker"
										[formControl]="selectedArrivedDate">
									<mat-datepicker-toggle matSuffix [for]="arrivedDatePicker"></mat-datepicker-toggle>
									<mat-datepicker #arrivedDatePicker></mat-datepicker>
								</mat-form-field>
							</div>
							<div class="outline-date">
								<mat-form-field class="example-full-width" appearance="outline">
									<mat-label>תאריך תחילת דיווח</mat-label>
									<input matInput [matDatepicker]="startJobDatePicker"
										[formControl]="selectedStartJobDate">
									<mat-datepicker-toggle matSuffix [for]="startJobDatePicker"></mat-datepicker-toggle>
									<mat-datepicker #startJobDatePicker></mat-datepicker>
								</mat-form-field>
							</div>
						</div>

						<div class="col-md-6" style="width: 50%;">
							<div class="outline-date">
								<mat-form-field class="example-full-width" appearance="outline">
									<mat-label>תאריך שינוי אחרון</mat-label>
									<input matInput [matDatepicker]="modifiedDatePicker"
										[formControl]="selectedModifiedDate">
									<mat-datepicker-toggle matSuffix [for]="modifiedDatePicker"></mat-datepicker-toggle>
									<mat-datepicker #modifiedDatePicker></mat-datepicker>
								</mat-form-field>
							</div>


							<div class="outline-date">
								<mat-form-field class="example-full-width" appearance="outline">
									<mat-label>תאריך סיום הדיווח</mat-label>
									<input matInput [matDatepicker]="endReportDatePicker"
										[formControl]="selectedEndReportDate">
									<mat-datepicker-toggle matSuffix [for]="endReportDatePicker">
									</mat-datepicker-toggle>
									<mat-datepicker #endReportDatePicker></mat-datepicker>
								</mat-form-field>
							</div>
						</div>
					</div>
				</div>
				<div class="button-row">
					<div class="col-md-12">
						<button mat-button class="saveButton" (click)="updateReportsData()">שמור</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="customer-data">
		<div class="row">
			<div class="col-md-12">
				<mat-accordion>
					<mat-expansion-panel>
						<mat-expansion-panel-header>
							<mat-panel-title class="panel-title">
								פרטי יצירת קשר ללקוח
							</mat-panel-title>
							<mat-panel-description>
								{{customerData.customer.companyName}}
							</mat-panel-description>
						</mat-expansion-panel-header>
						<app-customer-details [customerModel]="customerData"></app-customer-details>
					</mat-expansion-panel>
				</mat-accordion>
			</div>
		</div>
	</div>

	<div class="newSection">
		<app-report-institutions-payments [reportId]="reportId"></app-report-institutions-payments>
	</div>
	<div class="newSection">
		<app-report-realistic-payment [reportId]="reportId"></app-report-realistic-payment>
	</div>

</div>

<app-progress-spinner class="example-margin" [color]="color" [mode]="mode" [value]="value" [backdropEnabled]="true"
	[positionGloballyCenter]="true" [displayProgressSpinner]="loading">
</app-progress-spinner>