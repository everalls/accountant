<div class="card primaryInstitutionsCard">
  <div class="card-title">
    <div class="title primaryTitle">
      צפי תשלומים למוסדות
    </div>
    <div class="card">

      <div class="row">
        <div class="col-md-12">
          <div class="row">
            <div class="col-md-4">
              <div class="title card-title">
                פרמטרים חודשיים
              </div>
              <mat-form-field class="mat-form-field-class" appearance="outline">
                <mat-label class="hh">מחזור חייב</mat-label>
                <mat-icon matPrefix>₪</mat-icon>
                <input matInput type="number" [(ngModel)]="requiredCycleVal" (change)=getGeneralVAT()>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">מחזור הוני חייב</mat-label>
                <input matInput type="number" [(ngModel)]="requiredCapitalCycleFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">מחזור פטור</mat-label>
                <input matInput type="number" [(ngModel)]="exemptCycleFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">מחזור הוני פטור</mat-label>
                <input matInput type="number" [(ngModel)]="exemptCapitalCycleFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">תשומות</mat-label>
                <input matInput type="number" [(ngModel)]="addedValueFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">תשומות ק</mat-label>
                <input matInput type="number" [(ngModel)]="addedValueKFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">מס שנוכה</mat-label>
                <input matInput type="number" [(ngModel)]="deductionsFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">אחוז מקדמות</mat-label>
                <input matInput type="number" [(ngModel)]="downPaymentPercentage" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline">
                <mat-label class="hh">מחזור חשבונית עצמתית (ס.20)</mat-label>
                <input matInput type="number" [(ngModel)]="personalInvoiceCycleFee" (change)=getGeneralVAT()>
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
             
            </div>
            <div class="col-md-4">
              <div class="title card-title">
                הערכה לתשלום
              </div>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מחזור כללי למע"מ</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="generalCycleVat">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מע"מ לתשלום</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="vatPayment">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מחזור כללי פטור</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="generalRequiredCycleFee">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field [fxHide]="mobileQuery.matches ? 'true' : 'false'" appearance="outline" class="whiteSpace">
                <mat-label class="hh"></mat-label>
                <input matInput type="number" [readonly]="true">
                <mat-icon matPrefix></mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מחזור מקדמות</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="downPaymentsCycleFee">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מקדמה מחושב</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="calculatedDownPayment">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">סה"כ ניכויים</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="totalDeductions">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
            </div>
            <div class="col-md-4">
              <div class="title card-title">
                תשלום בפועל
              </div>

              <mat-form-field [fxHide]="mobileQuery.matches ? 'true' : 'false'" appearance="outline" class="whiteSpace">
                <mat-label class="hh"></mat-label>
                <input matInput type="number" [readonly]="true">
                <mat-icon matPrefix></mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">ערך מע"מ</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="vatValue">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <!-- <mat-form-field fxShow.gt-xs="true" fxHide.xs="true" appearance="outline" class="whiteSpace"> -->
              <mat-form-field [fxHide]="mobileQuery.matches ? 'true' : 'false'" appearance="outline" class="whiteSpace">
                <mat-label class="hh"></mat-label>
                <input matInput type="number" [readonly]="true">
                <mat-icon matPrefix></mat-icon>
              </mat-form-field>
              <mat-form-field [fxHide]="mobileQuery.matches ? 'true' : 'false'" appearance="outline" class="whiteSpace">
                <mat-label class="hh"></mat-label>
                <input matInput type="number" [readonly]="true">
                <mat-icon matPrefix></mat-icon>
              </mat-form-field>
              <mat-form-field [fxHide]="mobileQuery.matches ? 'true' : 'false'" appearance="outline" class="whiteSpace">
                <mat-label class="hh"></mat-label>
                <input matInput type="number" [readonly]="true">
                <mat-icon matPrefix></mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">מקדמות בפועל</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="actualDownPaymentsFee">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
              <mat-form-field appearance="outline" class="unedited">
                <mat-label class="hh">ניכויים למ"ה</mat-label>
                <input matInput type="number" [readonly]="true" [(ngModel)]="incomeTaxDeductions">
                <mat-icon matPrefix>₪</mat-icon>
              </mat-form-field>
            </div>
          </div>

        </div>
      </div>
      <div class="button-row">
        <div class="col-md-12">
          <button mat-button class="saveButton" (click)="onSaveMethod()">שמור</button>
        </div>
      </div>
    </div>
  </div>
</div>